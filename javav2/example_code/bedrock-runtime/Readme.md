<!--Generated by WRITEME on 2023-11-13 16:01:11.875851 (UTC)-->
# Amazon Bedrock Runtime code examples for the SDK for Java 2.x

## Overview
Shows how to use the AWS SDK for Java 2.x to work with the Amazon Bedrock Runtime client.

Amazon Bedrock is a fully managed service that offers a choice of high-performing foundation models (FMs) from leading AI companies like AI21 Labs, Anthropic, Cohere, Meta, Stability AI, and Amazon with a single API, along with a broad set of capabilities you need to build generative AI applications, simplifying development while maintaining privacy and security.

## ⚠️ Important
* The SDK for Java examples performs AWS operations for the account and AWS Region for which you've specified credentials. Running these examples might incur charges on your account. For details about the charges you can expect for a given service and API operation, see [AWS Pricing](https://aws.amazon.com/pricing/).
* Running the tests might result in charges to your AWS account.
* We recommend that you grant your code least privilege. At most, grant only the minimum permissions required to perform the task. For more information, see [Grant least privilege](https://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html#grant-least-privilege).
* This code is not tested in every AWS Region. For more information, see [AWS Regional Services](https://aws.amazon.com/about-aws/global-infrastructure/regional-product-services).

## Code examples

### Prerequisites

For prerequisites, see the [README](../../README.md) in the `javav2` folder.


<!--custom.prerequisites.start-->
> ⚠ You must request access to a model before you can use it. If you try to use the model (with the API or console) before you have requested access to it, you will receive an error message. For more information, see [Model access](https://docs.aws.amazon.com/bedrock/latest/userguide/model-access.html).
<!--custom.prerequisites.end-->

### Single actions

The following example uses the **BedrockRuntimeClient**:

- [Invoking a model](./src/main/java/com/example/bedrockruntime/InvokeModel.java) (InvokeModel command)

* [Invoke AI21 Labs Jurassic-2 on Amazon Bedrock](src/main/java/com/example/bedrockruntime/InvokeModel.java#L101) (`InvokeModel`)
* [Invoke Anthropic Claude 2 on Amazon Bedrock](src/main/java/com/example/bedrockruntime/InvokeModel.java#L51) (`InvokeModel`)
* [Invoke Stability.ai Stable Diffusion XL on Amazon Bedrock](src/main/java/com/example/bedrockruntime/InvokeModel.java#L151) (`InvokeModel`)
* [Invoke a model on $BR; with a response stream](src/main/java/com/example/bedrockruntime/InvokeModelWithResponseStream.java#L49) (`InvokeModelWithResponseStream`)

## Run the examples

To run these examples, set up your development environment. For more information,
see [Get started with the SDK for Java](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/setup.html).

## Testing the Amazon Bedrock Java files

You can test the Java code examples for the Amazon Bedrock Runtime client by running the test file [BedrockRuntimeTest.java](./src/test/java/BedrockRuntimeTest.java). This file uses JUnit 5 to run the JUnit tests and is located in the `src/test/java` folder. For more information, see [https://junit.org/junit5/](https://junit.org/junit5/).

You can run the JUnit tests from a Java IDE, such as IntelliJ, or from the command line by using Maven. As each test runs, you can view messages that inform you if the various tests succeed or fail.

**WARNING**: _Running these JUnit tests manipulates real Amazon resources and may incur charges on your account._

### Command line

To run the JUnit tests from the command line, you can use the following command:

		mvn test

You will see output from the JUnit tests, as shown here.

    ...
    [INFO] --------------------------------------------------
	[INFO]  T E S T S
    [INFO] --------------------------------------------------
	[INFO] Running BedrockRuntimeTest
    ...
	Test 1 passed
    ...
    Test 2 passed.
	...
	[INFO] Results:
	[INFO]
	[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0
	[INFO]
	[INFO] --------------------------------------------------
	[INFO] BUILD SUCCESS
	[INFO] --------------------------------------------------
	[INFO] Total time:  10.115 s
	[INFO] Finished at: 2023-11-09T21:01:15+01:00
	[INFO] --------------------------------------------------

## Additional resources

* [Amazon Bedrock - User Guide](https://docs.aws.amazon.com/bedrock/latest/userguide)
* [Amazon Bedrock - API Reference](https://docs.aws.amazon.com/bedrock/latest/APIReference)
* [AWS SDK for Java - Developer Guide](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html)
* [AWS SDK for Java - Amazon Bedrock Runtime API reference](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/bedrockruntime/package-summary.html)

---

Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.

SPDX-License-Identifier: Apache-2.0